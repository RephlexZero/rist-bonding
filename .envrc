# direnv configuration for RIST bonding project
# This file is optional but makes development easier with direnv

# Get workspace root
WORKSPACE_ROOT=$(pwd)

# GStreamer paths
export GSTREAMER_PREFIX="${WORKSPACE_ROOT}/target/gstreamer/install"
export GST_PLUGIN_PATH="${WORKSPACE_ROOT}/target/gstreamer/overlay:${GSTREAMER_PREFIX}/lib/gstreamer-1.0:${GSTREAMER_PREFIX}/lib64/gstreamer-1.0:${GST_PLUGIN_PATH}"
export PKG_CONFIG_PATH="${GSTREAMER_PREFIX}/lib/pkgconfig:${GSTREAMER_PREFIX}/lib64/pkgconfig:${PKG_CONFIG_PATH}"
export LD_LIBRARY_PATH="${GSTREAMER_PREFIX}/lib:${GSTREAMER_PREFIX}/lib64:${LD_LIBRARY_PATH}"
export PATH="${GSTREAMER_PREFIX}/bin:${PATH}"

# Ensure GStreamer is built before running cargo
if [ ! -d "${GSTREAMER_PREFIX}" ]; then
    echo "GStreamer not built. Run: ./build_gstreamer.sh"
fi
